<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

  <bean id="LogConfigurer" class="org.simpleframework.demo.log4j.LogConfigurer" init-method="configure">
    <constructor-arg value="${log4j.configFile}" />
  </bean>

  <bean id="ContentTypeResolver" class="org.simpleframework.demo.http.resource.ContentTypeResolver">
    <constructor-arg>
      <map>
        <entry key=".*.vm" value="text/html" />
        <entry key=".*.html" value="text/html" />
        <entry key=".*.png" value="image/png" />
        <entry key=".*.gif" value="image/gif" />
        <entry key=".*.css" value="text/css" />
        <entry key=".*.js" value="text/javascript" />
        <entry key=".*" value="text/html" />
      </map>
    </constructor-arg>
  </bean>

  <bean id="FileManager" class="org.simpleframework.demo.io.FileManager">
    <constructor-arg value="data/${context.path}" />
  </bean>

  <bean id="FileResolver" class="org.simpleframework.demo.io.FileResolver">
    <constructor-arg ref="FileManager" />
    <constructor-arg value="index.html" />
    <constructor-arg value="index.html" />
  </bean>

  <bean id="FileSystemResource" class="org.simpleframework.demo.http.resource.FileSystemResource">
    <constructor-arg ref="FileResolver" />
    <constructor-arg ref="ContentTypeResolver" />
  </bean>

  <bean id="NotFoundResource" class="org.simpleframework.demo.http.resource.StringResource">
    <constructor-arg value="Resource could not be found!!" />
    <constructor-arg value="text/plain; charset=UTF-8" />
    <constructor-arg value="UTF-8" />
    <constructor-arg value="NOT_FOUND" />
  </bean>

  <bean id="FoundResource" class="org.simpleframework.demo.http.resource.StringResource">
    <constructor-arg value="Redirecting to /index.html" />
    <constructor-arg value="text/plain; charset=UTF-8" />
    <constructor-arg value="UTF-8" />
    <constructor-arg value="FOUND" />
  </bean>

  <bean id="RedirectResource" class="org.simpleframework.demo.http.resource.RedirectResource">
    <constructor-arg ref="FoundResource" />
    <constructor-arg value="/index.html" />
  </bean>

  <bean id="TableResource" class="org.simpleframework.demo.table.message.TableResource">
    <constructor-arg ref="FileSystemResource" />
    <constructor-arg value="company" />
  </bean>

  <bean id="FailureResource" class="org.simpleframework.demo.http.resource.StringResource">
    <constructor-arg value="An error occured serving a resource!" />
    <constructor-arg value="text/plain; charset=UTF-8" />
    <constructor-arg value="UTF-8" />
    <constructor-arg value="INTERNAL_SERVER_ERROR" />
  </bean>

  <bean id="ProductTableSchema" class="org.simpleframework.demo.table.extract.TableSchema">
    <constructor-arg value="mainGrid" />
    <constructor-arg>
      <list>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="bidOutrightVolume" />
          <constructor-arg>
            <value>
              <![CDATA[
                <div title='{bidOutrightTooltip}' style='font-weight: bold; text-decoration: underline;'>
                  <span style='cursor: pointer; cursor: hand;' onclick="return openDialog('/trade.html?product={product}&side=bid&type=outright', 'dialog', 600, 700)">{bidOutrightVolume}</span>
                </div>
              ]]>
            </value>
          </constructor-arg>
          <constructor-arg value="{bidOutrightHighlight}" />
          <constructor-arg value="$ B" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="bidOutright" />
          <constructor-arg>
            <value>
              <![CDATA[
                <div title='{bidOutrightTooltip}' style='font-weight: bold; text-decoration: underline;'>
                  <span style='cursor: pointer; cursor: hand;' onclick="return openDialog('/trade.html?product={product}&side=bid&type=outright', 'dialog', 600, 700)">{bidOutright}</span>
                </div>
              ]]>
            </value>
          </constructor-arg>
          <constructor-arg value="{bidOutrightHighlight}" />
          <constructor-arg value="Bid" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="offerOutright" />
          <constructor-arg>
            <value>
              <![CDATA[
                <div title='{offerOutrightTooltip}' style='font-weight: bold; text-decoration: underline;'>
                  <span style='cursor: pointer; cursor: hand;' onclick="return openDialog('/trade.html?product={product}&side=offer&type=outright', 'dialog', 600, 700)">{offerOutright}</span>
                </div>
              ]]>
            </value>
          </constructor-arg>
          <constructor-arg value="{offerOutrightHighlight}" />
          <constructor-arg value="Offer" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="offerOutrightVolume" />
          <constructor-arg>
            <value>
              <![CDATA[
                <div title='{offerOutrightTooltip}' style='font-weight: bold; text-decoration: underline;'>
                  <span style='cursor: pointer; cursor: hand;' onclick="return openDialog('/trade.html?product={product}&side=offer&type=outright', 'dialog', 600, 700)">{offerOutrightVolume}</span>
                </div>
              ]]>
            </value>
          </constructor-arg>
          <constructor-arg value="{offerOutrightHighlight}" />
          <constructor-arg value="$ O" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="product" />
          <constructor-arg>
            <value>
              <![CDATA[
                <div style='font-weight: bold;'>{product}</div>
              ]]>
            </value>
          </constructor-arg>
          <constructor-arg value="" />
          <constructor-arg value="Security" />
          <constructor-arg value="true" />
          <constructor-arg value="true" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="bidEFPVolume" />
          <constructor-arg>
            <value>
              <![CDATA[
                <div title='{bidEFPTooltip}' style='font-weight: bold; text-decoration: underline;'>
                  <span style='cursor: pointer; cursor: hand;' onclick="return openDialog('/trade.html?product={product}&side=bid&type=EFP', 'dialog', 600, 700)">{bidEFPVolume}</span>
                </div>
              ]]>
            </value>
          </constructor-arg>
          <constructor-arg value="{bidEFPHighlight}" />
          <constructor-arg value="$ B" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="bidEFP" />
          <constructor-arg>
            <value>
              <![CDATA[
                <div title='{bidEFPTooltip}' style='font-weight: bold; text-decoration: underline;'>
                  <span style='cursor: pointer; cursor: hand;' onclick="return openDialog('/trade.html?product={product}&side=bid&type=EFP', 'dialog', 600, 700)">{bidEFP}</span>
                </div>
              ]]>
            </value>
          </constructor-arg>
          <constructor-arg value="{bidEFPHighlight}" />
          <constructor-arg value="Bid" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="offerEFP" />
          <constructor-arg>
            <value>
              <![CDATA[
                <div title='{offerEFPTooltip}' style='font-weight: bold; text-decoration: underline;'>
                  <span style='cursor: pointer; cursor: hand;' onclick="return openDialog('/trade.html?product={product}&side=offer&type=EFP', 'dialog', 600, 700)">{offerEFP}</span>
                </div>
              ]]>
            </value>
          </constructor-arg>
          <constructor-arg value="{offerEFPHighlight}" />
          <constructor-arg value="Offer" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="offerEFPVolume" />
          <constructor-arg>
            <value>
              <![CDATA[
                <div title='{offerEFPTooltip}' style='font-weight: bold; text-decoration: underline;'>
                  <span style='cursor: pointer; cursor: hand;' onclick="return openDialog('/trade.html?product={product}&side=offer&type=EFP', 'dialog', 600, 700)">{offerEFPVolume}</span>
                </div>
              ]]>
            </value>
          </constructor-arg>
          <constructor-arg value="{offerEFPHighlight}" />
          <constructor-arg value="$ O" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="reference" />
          <constructor-arg value="{reference}" />
          <constructor-arg value="" />
          <constructor-arg value="Ref" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="bidEFPHighlight" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="offerEFPHighlight" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="bidOutrightHighlight" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="offerOutrightHighlight" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="bidEFPTooltip" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="offerEFPTooltip" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="bidOutrightTooltip" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="offerOutrightTooltip" />
        </bean>
      </list>
    </constructor-arg>
  </bean>

  <bean id="ProductRowExtractor" class="org.simpleframework.demo.table.extract.RowExtractor">
    <constructor-arg>
      <map>
        <entry key="bidEFP">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.bid.price" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="offerEFP">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.offer.price" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="bidEFPVolume">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.bid.volume" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="offerEFPVolume">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.offer.volume" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="bidOutright">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestOutright.bid.price" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="offerOutright">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestOutright.offer.price" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="bidOutrightVolume">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestOutright.bid.volume" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="offerOutrightVolume">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestOutright.offer.volume" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="product">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="security" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="reference">
          <bean class="org.simpleframework.demo.table.extract.StaticCellExtractor">
            <constructor-arg value="3ySep" />
          </bean>
        </entry>
        <entry key="bidEFPHighlight">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyEFP.bid.company == bestEFP.bid.company &amp;&amp; companyEFP.bid.company != 'null'" />
            <constructor-arg value="background-color: #008500; color: #ffffff;" />
            <constructor-arg value="color: #0000ff;" />
          </bean>
        </entry>
        <entry key="offerEFPHighlight">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyEFP.offer.company == bestEFP.offer.company &amp;&amp; companyEFP.offer.company != 'null'" />
            <constructor-arg value="background-color: #008500; color: #ffffff; " />
            <constructor-arg value="color: #ff0000;" />
          </bean>
        </entry>
        <entry key="bidOutrightHighlight">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyOutright.bid.company == bestOutright.bid.company &amp;&amp; companyOutright.bid.company != 'null'" />
            <constructor-arg value="background-color: #008500; color: #ffffff;" />
            <constructor-arg value="color: #0000ff;" />
          </bean>
        </entry>
        <entry key="offerOutrightHighlight">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyOutright.offer.company == bestOutright.offer.company &amp;&amp; companyOutright.offer.company != 'null'" />
            <constructor-arg value="background-color: #008500; color: #ffffff;" />
            <constructor-arg value="color: #ff0000;" />
          </bean>
        </entry>
        <entry key="bidEFPTooltip">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyEFP.bid.company == bestEFP.bid.company &amp;&amp; companyEFP.bid.company != 'null'" />
            <constructor-arg value="Yay! you are the best at {bidEFP} for {product}" />
            <constructor-arg value="Your price for {product} is {bidEFP}" />
          </bean>
        </entry>
        <entry key="offerEFPTooltip">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyEFP.offer.company == bestEFP.offer.company &amp;&amp; companyEFP.offer.company != 'null'" />
            <constructor-arg value="Yay! you are the best at {offerEFP} for {product}" />
            <constructor-arg value="Your price for {product} is {offerEFP}" />
          </bean>
        </entry>
        <entry key="bidOutrightTooltip">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyOutright.bid.company == bestOutright.bid.company &amp;&amp; companyOutright.bid.company != 'null'" />
            <constructor-arg value="Yay! you are the best at {bidOutright} for {product}" />
            <constructor-arg value="Your price for {product} is {bidOutright}" />
          </bean>
        </entry>
        <entry key="offerOutrightTooltip">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyOutright.offer.company == bestOutright.offer.company &amp;&amp; companyOutright.offer.company != 'null'" />
            <constructor-arg value="Yay! you are the best at {offerOutright} for {product}" />
            <constructor-arg value="Your price for {product} is {offerOutright}" />
          </bean>
        </entry>
      </map>
    </constructor-arg>
  </bean>

  <bean id="ProductTable" class="org.simpleframework.demo.table.product.ProductTable" />

  <bean id="ProductTableModel" class="org.simpleframework.demo.table.product.ProductTableModel">
    <constructor-arg ref="ProductTable" />
  </bean>

  <bean id="ProductLitTableSchema" class="org.simpleframework.demo.table.extract.TableSchema">
    <constructor-arg value="litEFPGrid" />
    <constructor-arg>
      <list>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="product" />
          <constructor-arg>
            <value><![CDATA[<div style='font-weight: bold; color: #ffffff;'>{product}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="" />
          <constructor-arg value="Security" />
          <constructor-arg value="true" />
          <constructor-arg value="true" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="reference" />
          <constructor-arg>
            <value><![CDATA[<div style='color: #ffffff;'>/ {reference}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="" />
          <constructor-arg value="Ref" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="bidEFPVolume" />
          <constructor-arg>
            <value><![CDATA[<div style='text-decoration: underline;'>{bidEFPVolume}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="{bidEFPHighlight}" />
          <constructor-arg value="$ B" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="bidEFP" />
          <constructor-arg>
            <value><![CDATA[<div style='text-decoration: underline;'>{bidEFP}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="{bidEFPHighlight}" />
          <constructor-arg value="Bid" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="offerEFP" />
          <constructor-arg>
            <value><![CDATA[<div style='text-decoration: underline;'>{offerEFP}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="{offerEFPHighlight}" />
          <constructor-arg value="Offer" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="offerEFPVolume" />
          <constructor-arg>
            <value><![CDATA[<div style='text-decoration: underline;'>{offerEFPVolume}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="{offerEFPHighlight}" />
          <constructor-arg value="$ O" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="bidEFPHighlight" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="offerEFPHighlight" />
        </bean>
      </list>
    </constructor-arg>
  </bean>

  <bean id="ProductLitRowExtractor" class="org.simpleframework.demo.table.extract.RowExtractor">
    <constructor-arg>
      <map>
        <entry key="bidEFP">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.bid.price" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="offerEFP">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.offer.price" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="bidEFPVolume">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.bid.volume" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="offerEFPVolume">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.offer.volume" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="product">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="security" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="reference">
          <bean class="org.simpleframework.demo.table.extract.StaticCellExtractor">
            <constructor-arg value="3ySep" />
          </bean>
        </entry>
        <entry key="bidEFPHighlight">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyEFP.bid.company == bestEFP.bid.company &amp;&amp; companyEFP.bid.company != 'null'" />
            <constructor-arg value="font-weight: bold; color: #ffffff;" />
            <constructor-arg value="color: #888888;" />
          </bean>
        </entry>
        <entry key="offerEFPHighlight">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyEFP.offer.company == bestEFP.offer.company &amp;&amp; companyEFP.offer.company != 'null'" />
            <constructor-arg value="font-weight: bold; color: #ffffff; " />
            <constructor-arg value="color: #888888;" />
          </bean>
        </entry>
      </map>
    </constructor-arg>
  </bean>

  <bean id="ProductLitTable" class="org.simpleframework.demo.table.product.ProductTable" />

  <bean id="ProductLitTableModel" class="org.simpleframework.demo.table.product.ProductTableModel">
    <constructor-arg ref="ProductLitTable" />
  </bean>

  <bean id="ProductSwitchTableSchema" class="org.simpleframework.demo.table.extract.TableSchema">
    <constructor-arg value="litSwitchGrid" />
    <constructor-arg>
      <list>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="product" />
          <constructor-arg>
            <value><![CDATA[<div style='font-weight: bold; color: #ffffff;'>{product}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="" />
          <constructor-arg value="Security" />
          <constructor-arg value="true" />
          <constructor-arg value="true" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="reference" />
          <constructor-arg>
            <value><![CDATA[<div style='color: #ffffff;'>/ {reference}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="" />
          <constructor-arg value="Ref" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="bidEFPVolume" />
          <constructor-arg>
            <value><![CDATA[<div style='text-decoration: underline;'>{bidEFPVolume}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="{bidEFPHighlight}" />
          <constructor-arg value="$ B" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="bidEFP" />
          <constructor-arg>
            <value><![CDATA[<div style='text-decoration: underline;'>{bidEFP}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="{bidEFPHighlight}" />
          <constructor-arg value="Bid" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="offerEFP" />
          <constructor-arg>
            <value><![CDATA[<div style='text-decoration: underline;'>{offerEFP}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="{offerEFPHighlight}" />
          <constructor-arg value="Offer" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.StringColumnStyle">
          <constructor-arg value="offerEFPVolume" />
          <constructor-arg>
            <value><![CDATA[<div style='text-decoration: underline;'>{offerEFPVolume}</div>]]></value>
          </constructor-arg>
          <constructor-arg value="{offerEFPHighlight}" />
          <constructor-arg value="$ O" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="bidEFPHighlight" />
        </bean>
        <bean class="org.simpleframework.demo.table.extract.HiddenColumnStyle">
          <constructor-arg value="offerEFPHighlight" />
        </bean>
      </list>
    </constructor-arg>
  </bean>

  <bean id="ProductSwitchRowExtractor" class="org.simpleframework.demo.table.extract.RowExtractor">
    <constructor-arg>
      <map>
        <entry key="bidEFP">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.bid.price" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="offerEFP">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.offer.price" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="bidEFPVolume">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.bid.volume" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="offerEFPVolume">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="bestEFP.offer.volume" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="product">
          <bean class="org.simpleframework.demo.table.extract.PropertyCellExtractor">
            <constructor-arg value="security" />
            <constructor-arg value="org.simpleframework.demo.table.product.Product" />
          </bean>
        </entry>
        <entry key="reference">
          <bean class="org.simpleframework.demo.table.extract.StaticCellExtractor">
            <constructor-arg value="3ySep" />
          </bean>
        </entry>
        <entry key="bidEFPHighlight">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyEFP.bid.company == bestEFP.bid.company &amp;&amp; companyEFP.bid.company != 'null'" />
            <constructor-arg value="font-weight: bold; color: #ffffff;" />
            <constructor-arg value="color: #888888;" />
          </bean>
        </entry>
        <entry key="offerEFPHighlight">
          <bean class="org.simpleframework.demo.table.extract.PredicateCellExtractor">
            <constructor-arg value="companyEFP.offer.company == bestEFP.offer.company &amp;&amp; companyEFP.offer.company != 'null'" />
            <constructor-arg value="font-weight: bold; color: #ffffff;" />
            <constructor-arg value="color: #888888;" />
          </bean>
        </entry>
      </map>
    </constructor-arg>
  </bean>

  <bean id="ProductSwitchTable" class="org.simpleframework.demo.table.product.ProductTable" />

  <bean id="ProductSwitchTableModel" class="org.simpleframework.demo.table.product.ProductTableModel">
    <constructor-arg ref="ProductSwitchTable" />
  </bean>

  <bean id="ProductDepthProcessor" class="org.simpleframework.demo.table.product.DepthProcessor">
    <constructor-arg>
      <list>
        <ref bean="ProductTable" />
        <ref bean="ProductLitTable" />
        <ref bean="ProductSwitchTable" />
        <!-- ref bean="ProductDepthDebugger" / -->
      </list>
    </constructor-arg>
  </bean>

  <bean id="ProductTableUpdater" class="org.simpleframework.demo.table.message.TableUpdater" init-method="start">
    <constructor-arg ref="ProductTableModel" />
    <constructor-arg ref="ProductTableSchema" />
    <constructor-arg ref="ProductRowExtractor" />
  </bean>

  <bean id="ProductLitTableUpdater" class="org.simpleframework.demo.table.message.TableUpdater" init-method="start">
    <constructor-arg ref="ProductLitTableModel" />
    <constructor-arg ref="ProductLitTableSchema" />
    <constructor-arg ref="ProductLitRowExtractor" />
  </bean>

  <bean id="ProductSwitchTableUpdater" class="org.simpleframework.demo.table.message.TableUpdater" init-method="start">
    <constructor-arg ref="ProductSwitchTableModel" />
    <constructor-arg ref="ProductSwitchTableSchema" />
    <constructor-arg ref="ProductSwitchRowExtractor" />
  </bean>

  <bean id="ProductTableService" class="org.simpleframework.demo.table.message.TableService">
    <constructor-arg>
      <list>
        <ref bean="ProductTableUpdater" />
        <ref bean="ProductLitTableUpdater" />
        <ref bean="ProductSwitchTableUpdater" />
      </list>
    </constructor-arg>
    <constructor-arg ref="StatisticsService" />
  </bean>

  <bean id="ProductStaticSource" class="org.simpleframework.demo.table.product.ProductStaticSource" />

  <bean id="ProductDepthGenerator" class="org.simpleframework.demo.table.product.DepthGenerator" init-method="start">
    <constructor-arg ref="ProductDepthProcessor" />
    <constructor-arg ref="ProductStaticSource" />
    <constructor-arg>
      <list>
        <value>HSBC</value>
        <value>DB</value>
        <value>JPM</value>
        <value>ANZ</value>
        <value>UBS</value>
        <value>CITI</value>
        <value>GS</value>
      </list>
    </constructor-arg>
    <constructor-arg value="10" />
  </bean>

  <bean id="ProductDepthDebugger" class="org.simpleframework.demo.table.product.DepthDebugger" />

  <bean id="ProductTableTester" class="org.simpleframework.demo.table.message.TableTester" init-method="start">
    <constructor-arg ref="ProductTableUpdater" />
  </bean>

  <bean id="StatisticsService" class="org.simpleframework.demo.table.telemetry.StatisticsService" />

  <bean id="ServiceRouter" class="org.simpleframework.demo.http.socket.ServiceRouter">
    <constructor-arg>
      <map>
        <entry key="/telemetry" value-ref="StatisticsService" />
        <entry key="/table" value-ref="ProductTableService" />
      </map>
    </constructor-arg>
  </bean>

  <bean id="ScriptCompiler" class="org.simpleframework.demo.js.ScriptCompiler">
    <constructor-arg value="SIMPLE_OPTIMIZATIONS" />
  </bean>

  <bean id="ScriptProcessor" class="org.simpleframework.demo.js.ScriptProcessor">
    <constructor-arg ref="ScriptCompiler" />
    <constructor-arg value="data/${context.path}" />
  </bean>

  <bean id="ScriptResource" class="org.simpleframework.demo.js.ScriptResource">
    <constructor-arg ref="ScriptProcessor" />
    <constructor-arg value="text/javascript" />
    <constructor-arg value="gzip" />
  </bean>

  <bean id="TemplateEngine" class="org.simpleframework.demo.template.velocity.VelocityTemplateEngine">
    <constructor-arg ref="FileResolver" />
    <constructor-arg value="" />
    <constructor-arg value=".vm" />
  </bean>

  <bean id="TemplateContext" class="org.simpleframework.demo.template.TemplateContext">
    <constructor-arg>
      <map>
        <entry key="source" value-ref="ProductStaticSource" />
        <entry key="schema" value-ref="ProductTableSchema" />
      </map>
    </constructor-arg>
  </bean>

  <bean id="Template" class="org.simpleframework.demo.template.Template">
    <constructor-arg ref="TemplateEngine" />
    <constructor-arg value="index" />
  </bean>


  <bean id="TemplateResource" class="org.simpleframework.demo.template.TemplateResource">
    <constructor-arg ref="Template" />
    <constructor-arg ref="TemplateContext" />
    <constructor-arg value="text/html" />
  </bean>

  <bean id="ResourceEngine" class="org.simpleframework.demo.http.resource.RegularExpressionEngine">
    <constructor-arg>
      <map>
        <entry key="/index.html" value-ref="TableResource" />
        <entry key=".*favicon.ico" value-ref="NotFoundResource" />
        <entry key=".*.html" value-ref="FileSystemResource" />
        <entry key=".*.png" value-ref="FileSystemResource" />
        <entry key=".*.css" value-ref="FileSystemResource" />
        <!-- entry key=".*.js" value-ref="ScriptResource" / -->
        <entry key=".*.js" value-ref="FileSystemResource" />
        <entry key="/" value-ref="RedirectResource" />
      </map>
    </constructor-arg>
    <constructor-arg ref="NotFoundResource" />
  </bean>

  <bean id="ResourceContainer" class="org.simpleframework.demo.http.resource.ResourceContainer">
    <constructor-arg ref="ResourceEngine" />
    <constructor-arg ref="FailureResource" />
  </bean>

  <bean id="WebContainer" class="org.simpleframework.demo.http.WebContainer">
    <constructor-arg ref="ResourceContainer" />
    <constructor-arg value="Table/1.0" />
  </bean>

  <bean id="WebSocketRouter" class="org.simpleframework.http.socket.service.SingletonRouter">
    <constructor-arg ref="ServiceRouter" />
  </bean>

  <bean id="WebSocketContainer" class="org.simpleframework.http.socket.service.RouterContainer" init-method="start">
    <constructor-arg ref="WebContainer" />
    <constructor-arg ref="WebSocketRouter" />
    <constructor-arg value="2" />
  </bean>

  <bean id="WebServer" class="org.simpleframework.demo.http.WebServer" init-method="start">
    <constructor-arg ref="WebSocketContainer" />
    <constructor-arg value="${server.listenPort}" />
  </bean>

</beans>
